 
    <div class="d-flex justify-content-end">
     
      <%= link_to products_path do %>
       <%= image_tag "back-button.png",size:"60x60", alt: "Logo" %>
      <% end %>
    </div>
 <div class="container mt-5">
    <div class="row">
      <div class="col-md-5">
            <div id="carouselExampleFade" class="carousel slide carousel-fade">
              <div class="carousel-inner">
               <% (0...@product.images.count).each do |image| %>
                <div class="carousel-item active">
                <%= image_tag(@product.images[1], class:"d-block w-100",size:"400x400") %>
                </div>
                <div class="carousel-item">
                <%= image_tag(@product.images[0],class:"d-block w-100",size:"400x400") %>
                </div>
                <div class="carousel-item">
                <%= image_tag(@product.images[2],class:"d-block w-100",size:"400x400") %>
                </div>
                <% end %>
              </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
      </div>
      <div class="col-md-5">
        <h2><%= @product.name %></h2><br>
        <strong>Product Description:</strong> &nbsp <%= @product.desc %><br>
        <strong>Sizes:</strong> &nbsp <%= @product.sizes.pluck(:name).join(', ') %><br>
        <strong>Price:</strong> &nbsp <%= number_to_currency(@product.price, unit: "â‚¹", format: "%u %n") %><br>
        <p><strong>Available Quantity:</strong> &nbsp <%= @total_quantity %> items.</p><br>
        </div>
      <div class="col-md-2">
    <%= render partial: 'sizes', locals: { sizes: @product.sizes } %>
    <%= form_with(model: Lineitem.new, url: lineitems_path, method: :post) do |form| %>
        <%= hidden_field_tag :product_id, @product.id %>
        <div class="field">
          <%= form.label :size_id %>
          <%= form.collection_select :size_id, @product.sizes, :id, :name %><br>
          <%= label_tag "Quantity" %>
          <%= number_field_tag "quantity" %>
        </div><br>
        <%= button_to "Add to Cart", lineitems_path(product_id: @product), class: "btn btn-primary" %>
      <% end %>
     
    </div>
    </div>
  </div>
    
      <br>
<% if current_user.admin? %>
<%= link_to "Edit", edit_product_path, class:"btn btn-outline-success" %>
<%= link_to 'Destroy', product_path(@product), method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %>
<% end %>
<br>
<hr>
<br>
<div class="row row-cols-1 row-cols-md-3 g-4  justify-content-center">
<% @products.each do |product|%>
    <div class="card m-1" style="width: 18rem;">
    <%= link_to product_path(product), style:"text-decoration: none;" do %>
    <% if product.images.attached? %>
      <%= image_tag product.images.first, class:"card-img-top", size:"250x250"%>
    <% end %>
    <div class="card-body">
    <h5 class="card-title text-dark"><%= product.name %></h5>
    <div class="text-dark">
    <strong>Size:</strong> &nbsp <%= product.size %><br>
    <strong>Price:</strong> &nbsp <%= product.price %><br>
    </div>
    <%= link_to "Show Product", product_path(product), class:"btn btn-outline-success justify-content-center d-flex" %>
    <% end %>
    </div>
</div>
<% end %>
</div>


















